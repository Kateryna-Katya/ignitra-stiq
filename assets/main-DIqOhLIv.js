(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const g of i.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function v(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(e){if(e.ep)return;e.ep=!0;const i=v(e);fetch(e.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("DOM Loaded. Starting initialization...");const m=document.querySelector(".preloader");function f(){!m||m.style.display==="none"||(console.log("Hiding preloader..."),m.style.opacity="0",document.body.classList.add("loaded"),setTimeout(()=>{m.style.display="none",v()},500))}window.addEventListener("load",()=>{console.log("Window loaded completely."),f()}),setTimeout(()=>{console.warn("Force hiding preloader due to timeout."),f()},3e3);try{let r=function(){o&&(o.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("no-scroll"))};var g=r;const o=document.querySelector(".burger"),t=document.querySelector(".header__nav"),n=document.querySelectorAll(".nav__link");o&&o.addEventListener("click",r),n.forEach(c=>{c.addEventListener("click",()=>{t.classList.contains("active")&&r()})})}catch(o){console.error("Menu Error:",o)}try{let t=function(n){o.raf(n),requestAnimationFrame(t)};var M=t;const o=new Lenis({duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),smooth:!0});requestAnimationFrame(t)}catch(o){console.warn("Lenis init failed (minor issue):",o),document.documentElement.style.scrollBehavior="smooth"}try{const o=document.getElementById("canvas-container");if(o&&typeof THREE<"u"){let b=function(){requestAnimationFrame(b);const l=H.getElapsedTime();y.rotation.y+=.002+T*.05,y.rotation.x+=.001+L*.05,u.rotation.y-=.005,x.rotation.y=l*.05,n.position.x+=(T*.5-n.position.x)*.05,n.position.y+=(-L*.5-n.position.y)*.05,n.lookAt(t.position),r.render(t,n)};var A=b;const t=new THREE.Scene;t.fog=new THREE.FogExp2(723984,.002);const n=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);n.position.z=5;const r=new THREE.WebGLRenderer({alpha:!0,antialias:!0});r.setSize(window.innerWidth,window.innerHeight),r.setPixelRatio(window.devicePixelRatio),o.appendChild(r.domElement);const c=new THREE.IcosahedronGeometry(2,2),h=new THREE.MeshBasicMaterial({color:6749425,wireframe:!0,transparent:!0,opacity:.3}),y=new THREE.Mesh(c,h);t.add(y);const s=new THREE.IcosahedronGeometry(1,0),E=new THREE.MeshBasicMaterial({color:11544319,wireframe:!0,transparent:!0,opacity:.5}),u=new THREE.Mesh(s,E);t.add(u);const p=new THREE.BufferGeometry,a=700,w=new Float32Array(a*3);for(let l=0;l<a*3;l++)w[l]=(Math.random()-.5)*15;p.setAttribute("position",new THREE.BufferAttribute(w,3));const S=new THREE.PointsMaterial({size:.03,color:16777215,transparent:!0,opacity:.8}),x=new THREE.Points(p,S);t.add(x);let T=0,L=0;document.addEventListener("mousemove",l=>{T=l.clientX/window.innerWidth-.5,L=l.clientY/window.innerHeight-.5});const H=new THREE.Clock;b(),window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)}),console.log("Three.js initialized successfully.")}else console.warn("Three.js not found or container missing.")}catch(o){console.error("Three.js Crashed:",o);const t=document.getElementById("canvas-container");t&&(t.style.display="none")}function v(){if(typeof gsap>"u"||typeof ScrollTrigger>"u"){console.error("GSAP or ScrollTrigger not loaded!");return}try{document.querySelectorAll(".section__title, .section__desc").forEach(r=>{gsap.fromTo(r,{y:50,opacity:0},{scrollTrigger:{trigger:r,start:"top 85%",toggleActions:"play none none reverse"},y:0,opacity:1,duration:1,ease:"power3.out"})});const t=document.querySelectorAll(".feature-card");t.length>0&&gsap.fromTo(t,{y:50,opacity:0},{scrollTrigger:{trigger:"#advantages",start:"top 75%"},y:0,opacity:1,duration:.8,stagger:.2});const n=document.querySelectorAll(".blog-card");n.length>0&&gsap.fromTo(n,{y:50,opacity:0},{scrollTrigger:{trigger:"#blog",start:"top 75%"},y:0,opacity:1,duration:.8,stagger:.2}),console.log("GSAP animations initialized.")}catch(o){console.error("GSAP Animation Error:",o)}}const d=document.getElementById("leadForm");if(d){const o=Math.floor(Math.random()*5)+1,t=Math.floor(Math.random()*5)+1,n=o+t,r=document.getElementById("captchaLabel"),c=document.getElementById("captchaInput");r&&(r.textContent=`Сколько будет ${o} + ${t}?`);const h=document.getElementById("phone");h&&h.addEventListener("input",function(){this.value=this.value.replace(/[^0-9+]/g,"")}),d.addEventListener("submit",function(y){y.preventDefault();const s=document.getElementById("formStatus"),E=document.getElementById("privacy"),u=document.querySelector('label[for="privacy"]');s.textContent="",c&&c.classList.remove("input-error"),u&&u.classList.remove("checkbox-error");let p=!0;if(E.checked||(s.textContent="Ошибка: Подтвердите согласие!",s.style.color="#ff4d4d",u&&u.classList.add("checkbox-error"),p=!1),c&&parseInt(c.value)!==n&&(s.textContent="Ошибка: Неверный ответ!",s.style.color="#ff4d4d",c.classList.add("input-error"),p=!1),!p)return;const a=d.querySelector("button"),w=a.textContent;a.textContent="Отправка...",a.disabled=!0,setTimeout(()=>{a.textContent=w,a.disabled=!1,d.reset(),c&&(c.value=""),E.checked=!1,s.textContent="Заявка успешно отправлена!",s.style.color="#66fcf1"},1500)})}const e=document.getElementById("cookiePopup"),i=document.getElementById("acceptCookies");e&&!localStorage.getItem("cookiesAccepted")&&setTimeout(()=>{e.style.display="block",typeof gsap<"u"&&gsap.fromTo(e,{y:50,opacity:0},{y:0,opacity:1})},3e3),i&&i.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),typeof gsap<"u"?gsap.to(e,{y:50,opacity:0,onComplete:()=>e.style.display="none"}):e.style.display="none"}),typeof lucide<"u"&&lucide.createIcons()});
//# sourceMappingURL=main-DIqOhLIv.js.map
