/* empty css                      */(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const e of r.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&d(e)}).observe(document,{childList:!0,subtree:!0});function w(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=w(t);fetch(t.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("DOM Loaded. Starting initialization...");const m=document.querySelector(".preloader");function f(){!m||m.style.display==="none"||(console.log("Hiding preloader..."),m.style.opacity="0",document.body.classList.add("loaded"),setTimeout(()=>{m.style.display="none",w()},500))}window.addEventListener("load",()=>{console.log("Window loaded completely."),f()}),setTimeout(()=>{console.warn("Force hiding preloader due to timeout."),f()},3e3);try{let i=function(){e&&(e.classList.toggle("active"),o.classList.toggle("active"),document.body.classList.toggle("no-scroll"))};const e=document.querySelector(".burger"),o=document.querySelector(".header__nav"),n=document.querySelectorAll(".nav__link");e&&e.addEventListener("click",i),n.forEach(c=>{c.addEventListener("click",()=>{o.classList.contains("active")&&i()})})}catch(e){console.error("Menu Error:",e)}try{let o=function(n){e.raf(n),requestAnimationFrame(o)};const e=new Lenis({duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),smooth:!0});requestAnimationFrame(o)}catch(e){console.warn("Lenis init failed (minor issue):",e),document.documentElement.style.scrollBehavior="smooth"}try{const e=document.getElementById("canvas-container");if(e&&typeof THREE<"u"){let b=function(){requestAnimationFrame(b);const l=M.getElapsedTime();y.rotation.y+=.002+v*.05,y.rotation.x+=.001+T*.05,u.rotation.y-=.005,L.rotation.y=l*.05,n.position.x+=(v*.5-n.position.x)*.05,n.position.y+=(-T*.5-n.position.y)*.05,n.lookAt(o.position),i.render(o,n)};const o=new THREE.Scene;o.fog=new THREE.FogExp2(723984,.002);const n=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);n.position.z=5;const i=new THREE.WebGLRenderer({alpha:!0,antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(window.devicePixelRatio),e.appendChild(i.domElement);const c=new THREE.IcosahedronGeometry(2,2),g=new THREE.MeshBasicMaterial({color:6749425,wireframe:!0,transparent:!0,opacity:.3}),y=new THREE.Mesh(c,g);o.add(y);const s=new THREE.IcosahedronGeometry(1,0),h=new THREE.MeshBasicMaterial({color:11544319,wireframe:!0,transparent:!0,opacity:.5}),u=new THREE.Mesh(s,h);o.add(u);const p=new THREE.BufferGeometry,a=700,E=new Float32Array(a*3);for(let l=0;l<a*3;l++)E[l]=(Math.random()-.5)*15;p.setAttribute("position",new THREE.BufferAttribute(E,3));const x=new THREE.PointsMaterial({size:.03,color:16777215,transparent:!0,opacity:.8}),L=new THREE.Points(p,x);o.add(L);let v=0,T=0;document.addEventListener("mousemove",l=>{v=l.clientX/window.innerWidth-.5,T=l.clientY/window.innerHeight-.5});const M=new THREE.Clock;b(),window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}),console.log("Three.js initialized successfully.")}else console.warn("Three.js not found or container missing.")}catch(e){console.error("Three.js Crashed:",e);const o=document.getElementById("canvas-container");o&&(o.style.display="none")}function w(){if(typeof gsap>"u"||typeof ScrollTrigger>"u"){console.error("GSAP or ScrollTrigger not loaded!");return}try{document.querySelectorAll(".section__title, .section__desc").forEach(i=>{gsap.fromTo(i,{y:50,opacity:0},{scrollTrigger:{trigger:i,start:"top 85%",toggleActions:"play none none reverse"},y:0,opacity:1,duration:1,ease:"power3.out"})});const o=document.querySelectorAll(".feature-card");o.length>0&&gsap.fromTo(o,{y:50,opacity:0},{scrollTrigger:{trigger:"#advantages",start:"top 75%"},y:0,opacity:1,duration:.8,stagger:.2});const n=document.querySelectorAll(".blog-card");n.length>0&&gsap.fromTo(n,{y:50,opacity:0},{scrollTrigger:{trigger:"#blog",start:"top 75%"},y:0,opacity:1,duration:.8,stagger:.2}),console.log("GSAP animations initialized.")}catch(e){console.error("GSAP Animation Error:",e)}}const d=document.getElementById("leadForm");if(d){const e=Math.floor(Math.random()*5)+1,o=Math.floor(Math.random()*5)+1,n=e+o,i=document.getElementById("captchaLabel"),c=document.getElementById("captchaInput");i&&(i.textContent=`Сколько будет ${e} + ${o}?`);const g=document.getElementById("phone");g&&g.addEventListener("input",function(){this.value=this.value.replace(/[^0-9+]/g,"")}),d.addEventListener("submit",function(y){y.preventDefault();const s=document.getElementById("formStatus"),h=document.getElementById("privacy"),u=document.querySelector('label[for="privacy"]');s.textContent="",c&&c.classList.remove("input-error"),u&&u.classList.remove("checkbox-error");let p=!0;if(h.checked||(s.textContent="Ошибка: Подтвердите согласие!",s.style.color="#ff4d4d",u&&u.classList.add("checkbox-error"),p=!1),c&&parseInt(c.value)!==n&&(s.textContent="Ошибка: Неверный ответ!",s.style.color="#ff4d4d",c.classList.add("input-error"),p=!1),!p)return;const a=d.querySelector("button"),E=a.textContent;a.textContent="Отправка...",a.disabled=!0,setTimeout(()=>{a.textContent=E,a.disabled=!1,d.reset(),c&&(c.value=""),h.checked=!1,s.textContent="Заявка успешно отправлена!",s.style.color="#66fcf1"},1500)})}const t=document.getElementById("cookiePopup"),r=document.getElementById("acceptCookies");t&&!localStorage.getItem("cookiesAccepted")&&setTimeout(()=>{t.style.display="block",typeof gsap<"u"&&gsap.fromTo(t,{y:50,opacity:0},{y:0,opacity:1})},3e3),r&&r.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),typeof gsap<"u"?gsap.to(t,{y:50,opacity:0,onComplete:()=>t.style.display="none"}):t.style.display="none"}),typeof lucide<"u"&&lucide.createIcons()});
//# sourceMappingURL=index.js.map
